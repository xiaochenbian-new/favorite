function update(){$("#date").html(moment().format("YYYY年MM月DD日")),$("#clock").html(moment().format("HH:mm:ss"))}$((function(){var searchTypeStore_set=function(type){localStorage.setItem("SearchType",type)},searchTypeStore_get=function(){return localStorage.getItem("SearchType")||"google"},$searchMethods=$("#search_methods"),$searchLogo=$("#search_logo"),initSearchType=searchTypeStore_get();$searchLogo.addClass(initSearchType).data("type",initSearchType);var search_types=[{url:"https://www.baidu.com/s?wd=",type:"baidu"},{url:"https://www.sogou.com/web?query=",type:"sogou"},{url:"https://cn.bing.com/search?q=",type:"bing"},{url:"https://www.so.com/s?q=",type:"so"},{url:"https://www.google.com/search?q=",type:"google"},{url:"http://www.cilimao.cc/search?word=",type:"cili"},{url:"http://neets.cc/search?key=",type:"yingyin"},{url:"http://www.panduoduo.net/s/name/",type:"wangpan"},{url:"https://search.jd.com/Search?keyword=",type:"jingdong"},{url:"https://github.com/search?q=",type:"github"},{url:"https://s.taobao.com/search?q=",type:"taobao"},{url:"https://www.whois.com/whois/",type:"whois"}];$searchLogo.on("click",(function(){$searchMethods.show()})),Array.prototype.find||(Array.prototype.find=function(predicate){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof predicate)throw new TypeError("predicate must be a function");for(var list=Object(this),length=list.length||0,thisArg=arguments[1],value,i=0;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return value;return null}),$searchMethods.on("click","li",(function(){var type=$(this).data("type");searchTypeStore_set(type),$searchLogo.removeClass().data("type",type).addClass(type+" search-logo"),$searchMethods.hide(),$("#search_keyword").focus()})),$searchMethods.on("mouseleave",(function(){$searchMethods.hide()}));var EVENT_CLEAR_KEYWORD="clearKeyword",EVENT_SEARCH="search";function moveChange(e){var k,bl=!0;switch(e.keyCode||e.which){case 38:rowMove("top"),bl=!1;break;case 40:rowMove("down"),bl=!1}return bl}function rowMove(move){var search_result=$("#search_result"),hove_li=null;search_result.find(".result-item").each((function(){$(this).hasClass("active")&&(hove_li=$(this).index())})),"top"==move?null==hove_li?hove_li=search_result.find(".result-item").length-1:hove_li--:"down"==move&&(null==hove_li?hove_li=0:hove_li==search_result.find(".result-item").length-1?hove_li=0:hove_li++),search_result.find(".active").removeClass("active"),search_result.find(".result-item").eq(hove_li).addClass("active")}function keywordChange(keyword){""===keyword?$(document).trigger("clearKeyword"):($(document).trigger("search",keyword),$("#clear_keyword").show())}function getSeachType(){return $("#search_logo").data("type")}function searchResultGoogle(data){var result=data[1];renderSearchResult(result=result.map((function(item){return item[0]})))}function searchResultBaidu(data){var result;void 0!==data&&renderSearchResult(data.s)}function renderSearchResult(array){var $result=$("#search_result");if($result.empty().hide(),array&&!(array.length<=0)){for(var i=0;i<array.length;i++){var $li=$("<li class='result-item'></li>");$li.text(array[i]),$result.append($li)}$result.show()}}$("#search_keyword").on("keyup",(function(event){var $keyword,keyword=$(this).val(),bl;if(13==event.which)return $("#search_result .active").length>0&&(keyword=$("#search_result .active").eq(0).text()),void openSearch(keyword);moveChange(event)&&keywordChange(keyword)})).on("blur",(function(){$("#search_result").hide()})).on("focus",(function(){var keyword;keywordChange($(this).val())})),$("#clear_keyword").on("click",(function(){$("#search_keyword").val(""),$("#search_keyword").focus(),$(document).trigger("clearKeyword")})),$("#search_keyword").on("focus",(function(){$(".search-left").css({"border-style":"solid","border-color":"rgba(24, 144, 255, 1)","box-shadow":"0px 0px 2px 1px rgba(145, 213, 255, 0.96)"})})).on("blur",(function(){$(".search-left").prop("style","")})),$("#search_submit").on("click",(function(){var keyword=$("#search_keyword").val(),type=getSeachType(),baseUrl=search_types.find((function(item){return item.type===type}));baseUrl&&keyword&&window.open(baseUrl.url+keyword)})),$("#search_result").on("click","li",(function(){var word=$(this).text();$("#search_keyword").val(word),openSearch(word),$("#search_result").hide()})),$(document).on("clearKeyword",(function(){$("#clear_keyword").hide(),$("#search_result").hide()})),$(document).on("search",(function(e,keyword){getSearchResult(keyword)})),window.searchResultGoogle=searchResultGoogle,window.searchResultBaidu=searchResultBaidu;var search_suggest={baidu:{url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",data:function(keyword){return{wd:keyword,cb:"window.searchResultBaidu"}}},google:{url:"http://suggestqueries.google.com/complete/search",data:function(keyword){return{q:keyword,jsonp:"window.searchResultGoogle",client:"youtube"}}},wangpan:{url:"http://unionsug.baidu.com/su",data:function(keyword){return{wd:keyword,cb:"window.searchResultBaidu"}}}};function getSearchResult(keyword){var searchType=getSeachType(),suggest=search_suggest[searchType];suggest||(suggest=search_suggest.baidu),$.ajax({url:suggest.url,dataType:"jsonp",data:suggest.data(keyword)})}function openSearch(keyword){var type=getSeachType(),baseUrl=search_types.find((function(item){return item.type===type}));baseUrl&&keyword&&window.open(baseUrl.url+keyword)}})),$(document).bind("DOMNodeInserted",(function(event){$('a[href^="http"]').each((function(){$(this).attr("target")||$(this).attr("target","_blank")}))})),function(){function logElementEvent(eventName,element){console.log(Date.now(),eventName,element.getAttribute("data-src"))}var callback_enter,callback_exit,callback_loading,callback_loaded,callback_error,callback_finish,callback_cancel,ll=new LazyLoad({class_applied:"lz-applied",class_loading:"lz-loading",class_loaded:"lz-loaded",class_error:"lz-error",class_entered:"lz-entered",class_exited:"lz-exited",callback_enter:function(element){logElementEvent("🔑 ENTERED",element)},callback_exit:function(element){logElementEvent("🚪 EXITED",element)},callback_cancel:function(element){logElementEvent("🔥 CANCEL",element)},callback_loading:function(element){logElementEvent("⌚ LOADING",element)},callback_loaded:function(element){logElementEvent("👍 LOADED",element)},callback_error:function(element){logElementEvent("💀 ERROR",element),element.src="/static/img/error.png"},callback_finish:function(){logElementEvent("✔️ FINISHED",document.documentElement)}})}(),setInterval(update,1e3);var myDate=new Date,hrs=myDate.getHours(),greet;hrs>=0&&hrs<6?greet="🕑️凌晨好！":hrs>=6&&hrs<9?greet="🕕早上好！":hrs>=9&&hrs<11?greet="🕘上午好！":hrs>=11&&hrs<13?greet="🕛中午好！":hrs>=13&&hrs<18?greet="🕒下午好！":hrs>=18&&hrs<=24&&(greet="🕘晚上好！"),document.getElementById("greetings").innerHTML=greet;var xhr=new XMLHttpRequest;xhr.open("get","https://v2.jinrishici.com/one.json"),xhr.onreadystatechange=function(){if(4===xhr.readyState){var result=JSON.parse(xhr.responseText),gushici=document.getElementById("gushici"),poem_info=document.getElementById("poem_info");gushici.innerHTML='<a href="https://www.google.com/search?q='+result.data.content+'" target="_blank" rel="noopener noreferrer">'+result.data.content+"</a>",poem_info.innerHTML='<a href="https://www.google.com/search?q='+result.data.origin.author+" "+result.data.origin.title+'" target="_blank" rel="noopener noreferrer">【'+result.data.origin.dynasty+"】"+result.data.origin.author+"《"+result.data.origin.title+"》</a>"}},xhr.send();var weather=new XMLHttpRequest;if(weather.open("get","https://v2.jinrishici.com/info"),weather.onreadystatechange=function(){if(4===weather.readyState){var result=JSON.parse(weather.responseText),jw_region=document.querySelector("#jw_region"),jw_temperature=document.querySelector("#jw_temperature"),jw_pm25tip=document.querySelector("#jw_pm25tip"),jw_wtip=document.querySelector("#jw_wtip"),region=result.data.region.match(/\|(\S*)/)[1];jw_region.innerHTML='<a href="https://www.google.com/search?q=天气+'+region+'" target="_blank" rel="noopener noreferrer">'+region+"</a>",jw_temperature.innerHTML=result.data.weatherData.temperature+"℃";var jw_weather=result.data.weatherData.weather,jw_w;jw_w="晴"==jw_weather?jw_weather.replace("晴","☀️"):"多云"==jw_weather?jw_weather.replace("多云","⛅️"):"阴"==jw_weather?jw_weather.replace("阴","☁️"):"雨"==jw_weather?jw_weather.replace("雨","🌧️"):"雪"==jw_weather?jw_weather.replace("雪","❄️"):"雷阵雨"==jw_weather?jw_weather.replace("雷阵雨","⛈️"):"雨夹雪"==jw_weather?jw_weather.replace("雨夹雪","🌧️"):"小雨"==jw_weather?jw_weather.replace("小雨","🌦️"):"中雨"==jw_weather?jw_weather.replace("中雨","🌦️"):"大雨"==jw_weather?jw_weather.replace("大雨","🌦️"):"暴雨"==jw_weather?jw_weather.replace("暴雨","🌦️"):"大暴雨"==jw_weather?jw_weather.replace("大暴雨","🌦️"):"特大暴雨"==jw_weather?jw_weather.replace("特大暴雨","🌦️"):"阵雪"==jw_weather?jw_weather.replace("阵雪","❄️"):"小雪"==jw_weather?jw_weather.replace("小雪","❄️"):"中雪"==jw_weather?jw_weather.replace("中雪","❄️"):"大雪"==jw_weather?jw_weather.replace("大雪","❄️"):"暴雪"==jw_weather?jw_weather.replace("暴雪","❄️"):"雾"==jw_weather?jw_weather.replace("雾","🌫️"):"冻雨"==jw_weather?jw_weather.replace("冻雨","🌧️"):"沙尘暴"==jw_weather?jw_weather.replace("沙尘暴","🌫️"):"沙尘"==jw_weather?jw_weather.replace("沙尘","🌫️"):"浮尘"==jw_weather?jw_weather.replace("浮尘","🌫️"):"扬沙"==jw_weather?jw_weather.replace("扬沙","🌫️"):"强沙尘暴"==jw_weather?jw_weather.replace("强沙尘暴","🌫️"):"霾"==jw_weather?jw_weather.replace("霾","🌫️"):"轻度雾霾"==jw_weather?jw_weather.replace("轻度雾霾","🌫️"):"中度雾霾"==jw_weather?jw_weather.replace("中度雾霾","🌫️"):"重度雾霾"==jw_weather?jw_weather.replace("重度雾霾","🌫️"):"风"==jw_weather?jw_weather.replace("风","🌪️"):"大风"==jw_weather?jw_weather.replace("大风","🌪️"):"飓风"==jw_weather?jw_weather.replace("飓风","🌪️"):"热带风暴"==jw_weather?jw_weather.replace("热带风暴","🌪️"):"龙卷风"==jw_weather?jw_weather.replace("龙卷风","🌪️"):"阵雨"==jw_weather?jw_weather.replace("阵雨","🌦️"):jw_weather.replace(/[.*+?^${}()|[\]\\]/g,"🌤️"),document.querySelector("#jw_weather").innerHTML=jw_w,jw_wtip.innerHTML="实时天气："+jw_weather,jw_pm25tip.innerHTML="空气质量："+result.data.weatherData.pm25;var pm25=result.data.weatherData.pm25,jw_pm25;pm25>=0&&pm25<=50?(jw_pm25="优",$("#jw_pm25").addClass("green")):pm25>=51&&pm25<=100?(jw_pm25="良",$("#jw_pm25").addClass("yellow")):pm25>=101&&pm25<=150?(jw_pm25="轻度污染",$("#jw_pm25").addClass("orange")):pm25>=151&&pm25<=200?(jw_pm25="中度污染",$("#jw_pm25").addClass("red")):pm25>=201&&pm25<=300?(jw_pm25="重度污染",$("#jw_pm25").addClass("purple")):pm25>300&&(jw_pm25="严重污染",$("#jw_pm25").addClass("maroon")),document.querySelector("#jw_pm25").innerHTML=jw_pm25}},weather.send(),jQuery(".comment_stars a").click((function(){jQuery(this).addClass("active"),jQuery(this).siblings().removeClass("active"),jQuery(".comment_stars").addClass("selected"),jQuery("#rate").attr("value",jQuery(this).data("rate"))})),jQuery("ul.menu li.menu-item-search a").click((function(){setTimeout((function(){jQuery(".search_form #s").focus()}),500)})),jQuery("#super-search-fm").length>0&&eval(function(t,e,a,n,i,o){if(i=function(t){return(t<e?"":i(parseInt(t/e)))+((t%=e)>35?String.fromCharCode(t+29):t.toString(36))},!"".replace(/^/,String)){for(;a--;)o[i(a)]=n[a]||i(a);n=[function(t){return o[t]}],i=function(){return"\\w+"},a=1}for(;a--;)n[a]&&(t=t.replace(new RegExp("\\b"+i(a)+"\\b","g"),n[a]));return t}('!2(){2 g(){h(),i(),j(),k()}2 h(){d.9=s()}2 i(){z a=4.8(\'A[B="7"][5="\'+p()+\'"]\');a&&(a.9=!0,l(a))}2 j(){v(u())}2 k(){w(t())}2 l(a){P(z b=0;b<e.O;b++)e[b].I.1c("s-M");a.F.F.F.I.V("s-M")}2 m(a,b){E.H.S("L"+a,b)}2 n(a){6 E.H.Y("L"+a)}2 o(a){f=a.3,v(u()),w(a.3.5),m("7",a.3.5),c.K(),l(a.3)}2 p(){z b=n("7");6 b||a[0].5}2 q(a){m("J",a.3.9?1:-1),x(a.3.9)}2 r(a){6 a.11(),""==c.5?(c.K(),!1):(w(t()+c.5),x(s()),s()?E.U(b.G,+T X):13.Z=b.G,10 0)}2 s(){z a=n("J");6 a?1==a:!0}2 t(){6 4.8(\'A[B="7"]:9\').5}2 u(){6 4.8(\'A[B="7"]:9\').W("14-N")}2 v(a){c.1e("N",a)}2 w(a){b.G=a}2 x(a){a?b.3="1a":b.16("3")}z y,a=4.R(\'A[B="7"]\'),b=4.8("#18-C-19"),c=4.8("#C-12"),d=4.8("#17-C-15"),e=4.R(".C-1b"),f=a[0];P(g(),y=0;y<a.O;y++)a[y].D("Q",o);d.D("Q",q),b.D("1d",r)}();',62,77,"||function|target|document|value|return|type|querySelector|checked||||||||||||||||||||||||||var|input|name|search|addEventListener|window|parentNode|action|localStorage|classList|newWindow|focus|superSearch|current|placeholder|length|for|change|querySelectorAll|setItem|new|open|add|getAttribute|Date|getItem|href|void|preventDefault|text|location|data|blank|removeAttribute|set|super|fm|_blank|group|remove|submit|setAttribute".split("|"),0,{})),jQuery(window).width()<1280){var mainNav=jQuery(".main-nav"),leftNav=jQuery(".containers");mainNav.length>0&&mainNav.addClass(""),leftNav.length>0&&jQuery(".containers").append("")}!function(global,undefined){"use strict";let _global,Lately=option=>{let target=option.target||".time",lang=option.lang||{second:"秒",minute:"分钟",hour:"小时",day:"天",month:"个月",year:"年",ago:"前",error:"NaN"},_count=date=>{date=new Date(date);let second=((new Date).getTime()-date.getTime())/1e3,minute=second/60,hour=minute/60,day=hour/24,month=day/30,year=month/12,floor=(num,_lang)=>Math.floor(num)+_lang,result="";return result=year>=1?floor(year,lang.year):month>=1?floor(month,lang.month):day>=1?floor(day,lang.day):hour>=1?floor(hour,lang.hour):minute>=1?floor(minute,lang.minute):second>=1?floor(second,lang.second):lang.error,result+lang.ago};for(let contain of document.querySelectorAll(target)){let date="",date_time=contain.dateTime,title=contain.title,html=contain.innerHTML;if(date_time&&!isNaN(new Date(date_time=date_time.replace(/(.*)[a-z](.*)\+(.*)/gi,"$1 $2").replace(/-/g,"/"))))date=date_time;else if(title&&!isNaN(new Date(title=title.replace(/-/g,"/"))))date=title;else{if(!html||isNaN(new Date(html=html.replace(/-/g,"/"))))return;date=html}contain.title=date,contain.innerHTML=_count(date)}};_global=function(){return this||(0,eval)("this")}(),!("Lately"in _global)&&(_global.Lately=Lately)}(),$(document).ready((function(){if($("#index-talk").length>0){function urlToLink(str){return str=str.replace(/```([\s\S]*?)```[\s]*/g," <code>$1</code> ").replace(/`([\s\S ]*?)`[\s]*/g," <code>$1</code> ").replace(/\!\[[\s\S]*?\]\([\s\S]*?\)/g,"🌅").replace(/\[[\s\S]*?\]\([\s\S]*?\)/g,"🔗").replace(/\bhttps?:\/\/(?!\S+(?:jpe?g|png|bmp|gif|webp|jfif|gif))\S+/g,"🔗")}function Roll(){var list_li=$(".talk-list li"),cur_li=list_li.first(),last_li;list_li.last().after(cur_li)}jsonUrl="https://api.eallion.com/memos/memos.json",$.getJSON(jsonUrl+"?t="+Date.parse(new Date),(function(res){var bberCount=res.count,talksHtml="";$.each(res.data,(function(i,item){d=new Date(1e3*item.createdTs),date=d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate()+" "+d.getHours()+":"+d.getMinutes()+":"+d.getSeconds(),dataTime='<span class="datatime">'+date+"</span>",talksHtml+='<li class="item item-'+(i+1)+'">'+dataTime+'： <a href="https://eallion.com/memos/" target="_blank" rel="noopener noreferrer">'+urlToLink(item.content)+"</a></li>"})),$("#index-talk").append('<ul class="talk-list">'+talksHtml+"</ul>"),Lately({target:".datatime"})}));var timer=null;function startSetInterval(){timer=setInterval(Roll,3e3)}startSetInterval(),$("#index-talk").hover((function(){clearInterval(timer)}),(function(){startSetInterval()})),$("button").click((function(){$(this).parents("#index-talk").remove()}))}})),function($){"use strict";$.fn.toTop=function(opt){var elem=this,win=$(window),doc=$("html, body"),options=$.extend({autohide:!0,offset:420,speed:500,position:!0,right:15,bottom:30},opt);elem.css({cursor:"pointer"}),options.autohide&&elem.css("display","none"),options.position&&elem.css({position:"fixed",right:options.right,bottom:options.bottom}),elem.click((function(){doc.animate({scrollTop:0},options.speed)})),win.scroll((function(){var scrolling=win.scrollTop();options.autohide&&(scrolling>options.offset?elem.fadeIn(options.speed):elem.fadeOut(options.speed))}))}}(jQuery),$(".to-top").toTop({autohide:!0,offset:420,speed:500,position:!0,right:15,bottom:15}),$(".scrollTo").on("click",(function(e){e.preventDefault();var target=$(this).attr("href");$("html, body").animate({scrollTop:$(target).offset().top},100)})),document.querySelector("form").onsubmit=e=>(e.target.reset(),!1);let storageColorScheme=localStorage.getItem("lightDarkMode");"Auto"==storageColorScheme&&window.matchMedia("(prefers-color-scheme: dark)").matches||"Dark"==storageColorScheme?document.body.classList.add("dark"):"Auto"==storageColorScheme&&window.matchMedia("(prefers-color-scheme: light)").matches||"Light"==storageColorScheme?document.body.classList.remove("dark"):(("Auto"==storageColorScheme||null==storageColorScheme)&&window.matchMedia("(prefers-color-scheme: dark)").matches||"Dark"==storageColorScheme)&&document.body.classList.add("dark");let element=document.getElementById("lightDarkMode");function getcolorscheme(){let storageColorScheme=localStorage.getItem("lightDarkMode"),element=document.getElementById("lightDarkMode"),targetDiv=document.getElementById("lightDarkOptions"),targets=targetDiv.getElementsByTagName("span"),screen=document.getElementById("is-open");element.addEventListener("click",()=>{targetDiv.classList.toggle("hidden"),screen.classList.toggle("hidden")});for(let target of targets)target.addEventListener("click",()=>{let targetName=target.getAttribute("name"),icon=switchMode(targetName),old_icon=element.firstElementChild.getAttribute("data-icon");element.firstElementChild.setAttribute("data-icon",icon),localStorage.setItem("lightDarkMode",targetName),targetDiv.classList.toggle("hidden"),screen.classList.toggle("hidden");let event=new Event("themeChanged");document.dispatchEvent(event)});screen.addEventListener("click",()=>{targetDiv.classList.toggle("hidden"),screen.classList.toggle("hidden")})}function switchMode(mode){let icon="";switch(mode){case"Light":window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",switchDarkMode),icon="akar-icons:sun-fill",document.body.classList.remove("dark");break;case"Dark":window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",switchDarkMode),icon="akar-icons:moon-fill",document.body.classList.add("dark");break;case"Auto":icon="bxs:adjust";const isDarkMode=window.matchMedia("(prefers-color-scheme: dark)");switchDarkMode(isDarkMode),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",switchDarkMode)}return icon}function switchDarkMode(e){e.matches?document.body.classList.add("dark"):document.body.classList.remove("dark")}null==storageColorScheme||"Auto"==storageColorScheme?document.addEventListener("DOMContentLoaded",()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",switchDarkMode)}):"Light"==storageColorScheme?element.firstElementChild.setAttribute("data-icon","akar-icons:sun-fill"):"Dark"==storageColorScheme&&element.firstElementChild.setAttribute("data-icon","akar-icons:moon-fill"),document.addEventListener("DOMContentLoaded",()=>{getcolorscheme()});